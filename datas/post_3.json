{"html":"<p><code>URL</code>是js用于处理url的一个原生API，提供了很多实用的方法。</p>\n<p>但是有一点需要注意，当我们在使用<code>URL</code>操作url的<code>searchParams</code>时，比如下面的代码</p>\n<pre><code class=\"hljs hljs-javascript\"><span class=\"hljs-keyword\">var</span> url=<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">URL</span>(<span class=\"hljs-string\">&#x27;https://example.com/s&#x27;</span>);\nurl.<span class=\"hljs-property\">searchParams</span>.<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&#x27;keyword&#x27;</span>,<span class=\"hljs-string\">&#x27;hello world&#x27;</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(url.<span class=\"hljs-property\">href</span>);</code></pre><p>注意！此时输出的不是<code>https://example.com/s?keyword=hello world</code>，而是<code>https://example.com/s?keyword=hello+world</code></p>\n<p><code>URL</code>会把<code>searchParams</code>里的空格替换成<code>+</code></p>\n<p>虽然这可能无关紧要，但不注意有时候还是会产生莫名其妙的BUG的。比如之前我做一个搜索功能，不知道怎么回事，搜索结果总是会有缺少和偏差，但代码一点问题都没有，排查了好久，最后才发现是<code>URL</code>把<code>searchParams</code>里的空格替换成<code>+</code>引发的问题</p>\n<p>好的，希望对你有帮助！</p>\n","detail":{"title":"js-URL()的使用注意事项","time":"2023/10/28 11:08:30","id":3,"desc":"js-URL()的使用注意事项","tags":["JS","开发笔记"]}}